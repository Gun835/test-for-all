--// ğŸ”¥ AutoFarm All Bosses + UI Toggle G + AutoZoom + Haki ğŸ”¥
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")
local Remotes = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Serverside")
local camera = workspace.CurrentCamera

--===[ à¸•à¸±à¸§à¹à¸›à¸£à¸ªà¸–à¸²à¸™à¸° ]===
getgenv().AutoFarmMihawk = false
getgenv().AutoSlayerTrainee = false
getgenv().AutoZoom = true
getgenv().gx = true

--===[ à¸ˆà¸¸à¸”à¸§à¸²à¸£à¹Œà¸› ]===
local deathPositionMihawk = CFrame.new(-30.7399998,2.22399998,156.429993,0.983286619,0,0.182064503,0,1,0,-0.182064503,0,0.983286619)
local questPositionSlayer = CFrame.new(-500.550995,11.1639996,511.187012,-0.636166334,0,-0.771551907,0,1,0,0.771551907,0,-0.636166334)

--===[ à¸ªà¸£à¹‰à¸²à¸‡ UI à¸«à¸¥à¸±à¸ ]===
local gui = Instance.new("ScreenGui")
gui.Name = "FarmControlUI"
gui.ResetOnSpawn = false
gui.Parent = PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0,230,0,200)
frame.Position = UDim2.new(0.5,-115,0.1,0)
frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
frame.BackgroundTransparency = 0.2
frame.Active = true
frame.Draggable = true
frame.Parent = gui

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,30)
title.BackgroundTransparency = 1
title.Text = "âš™ï¸ Farm Control"
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.SourceSansBold
title.TextSize = 18
title.Parent = frame

-- à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ªà¸£à¹‰à¸²à¸‡à¸›à¸¸à¹ˆà¸¡
local function createButton(text,pos)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(0.9,0,0,35)
	btn.Position = pos
	btn.BackgroundColor3 = Color3.fromRGB(80,80,80)
	btn.TextColor3 = Color3.new(1,1,1)
	btn.Font = Enum.Font.SourceSansBold
	btn.TextSize = 16
	btn.Text = text
	btn.Parent = frame
	return btn
end

local toggleMihawk = createButton("ğŸ”´ Auto Mihawk : OFF",UDim2.new(0.05,0,0.2,0))
local toggleSlayer = createButton("ğŸ”´ Auto Slayer's Trainee : OFF",UDim2.new(0.05,0,0.45,0))
local zoomButton = createButton("ğŸ”´ AutoZoom : OFF",UDim2.new(0.05,0,0.7,0))

--===[ à¸›à¸¸à¹ˆà¸¡ Toggle UI à¸•à¸±à¸§ G à¸‚à¸™à¸²à¸”à¸à¸¥à¸²à¸‡ ]===
local toggleUIBtn = Instance.new("TextButton")
toggleUIBtn.Size = UDim2.new(0,60,0,40) -- à¸‚à¸™à¸²à¸”à¸à¸¥à¸²à¸‡
toggleUIBtn.Position = UDim2.new(0.01,0,0.9,0) -- à¸¡à¸¸à¸¡à¸¥à¹ˆà¸²à¸‡à¸‹à¹‰à¸²à¸¢
toggleUIBtn.BackgroundColor3 = Color3.fromRGB(0,120,255)
toggleUIBtn.TextColor3 = Color3.new(1,1,1)
toggleUIBtn.Font = Enum.Font.SourceSansBold
toggleUIBtn.TextSize = 24
toggleUIBtn.Text = "G"
toggleUIBtn.Parent = PlayerGui

local uiVisible = true
toggleUIBtn.MouseButton1Click:Connect(function()
	uiVisible = not uiVisible
	local gui = PlayerGui:FindFirstChild("FarmControlUI")
	if gui then gui.Enabled = uiVisible end
end)

--===[ à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸­à¸±à¸›à¹€à¸”à¸•à¸›à¸¸à¹ˆà¸¡ ]===
local function updateButton(button,state,onText,offText)
	if state then
		button.Text = onText
		button.BackgroundColor3 = Color3.fromRGB(0,170,0)
	else
		button.Text = offText
		button.BackgroundColor3 = Color3.fromRGB(80,80,80)
	end
end

toggleMihawk.MouseButton1Click:Connect(function()
	getgenv().AutoFarmMihawk = not getgenv().AutoFarmMihawk
	updateButton(toggleMihawk,getgenv().AutoFarmMihawk,"ğŸŸ¢ Auto Mihawk : ON","ğŸ”´ Auto Mihawk : OFF")
end)

toggleSlayer.MouseButton1Click:Connect(function()
	getgenv().AutoSlayerTrainee = not getgenv().AutoSlayerTrainee
	updateButton(toggleSlayer,getgenv().AutoSlayerTrainee,"ğŸŸ¢ Auto Slayer's Trainee : ON","ğŸ”´ Auto Slayer's Trainee : OFF")
end)

--===[ AutoZoom ]===
local autoZoomConn
local function EnableAutoZoom(state)
	getgenv().AutoZoom = state
	updateButton(zoomButton,state,"ğŸŸ¢ AutoZoom : ON","ğŸ”´ AutoZoom : OFF")
	if state then
		autoZoomConn = RunService.RenderStepped:Connect(function()
			if not getgenv().AutoZoom then return end
			local char = player.Character or player.CharacterAdded:Wait()
			local hrp = char:FindFirstChild("HumanoidRootPart")
			if not hrp then return end
			camera.CameraType = Enum.CameraType.Scriptable
			local zoom = math.min(player.CameraMaxZoomDistance or 128,100)
			camera.CFrame = hrp.CFrame * CFrame.new(0,zoom,0) * CFrame.Angles(math.rad(-90),0,0)
		end)
	else
		camera.CameraType = Enum.CameraType.Custom
		if autoZoomConn then autoZoomConn:Disconnect() autoZoomConn=nil end
	end
end
zoomButton.MouseButton1Click:Connect(function()
	EnableAutoZoom(not getgenv().AutoZoom)
end)

--===[ ProximityPrompt à¸›à¸£à¸±à¸š HoldDuration = 0 ]===
for _,obj in pairs(workspace:GetDescendants()) do
	if obj:IsA("ProximityPrompt") then obj.HoldDuration=0 end
end

--===[ Haki Loop ]===
local HakiArgs = {"Server","Misc","Haki",1}
local function ActivateHaki()
	pcall(function() Remotes:FireServer(unpack(HakiArgs)) end)
end

local function waitForCharacter()
	local char,hrp,humanoid
	repeat
		char = player.Character or player.CharacterAdded:Wait()
		hrp = char:FindFirstChild("HumanoidRootPart")
		humanoid = char:FindFirstChild("Humanoid")
		task.wait(0.1)
	until hrp and humanoid and humanoid.Health>0
	return char,hrp,humanoid
end

task.spawn(function()
	while true do
		local _,_,hum = waitForCharacter()
		if hum and hum.Health>0 then ActivateHaki() end
		task.wait(1)
	end
end)

--===[ Attack Function ]===
local function AttackBoss(bossModel)
	local char, hrp = waitForCharacter()
	local Mon = bossModel:FindFirstChild("HumanoidRootPart")
	local hum = bossModel:FindFirstChild("Humanoid")
	if Mon and hum and hum.Health>0 then
		hrp.CFrame = Mon.CFrame * CFrame.new(0,10,10)
		for i=1,4 do
			Remotes:FireServer("Server","Sword","Skill"..i,"Dual Dagger")
			task.wait(0.2)
		end
		return true
	end
	return false
end

--===[ à¸•à¸£à¸§à¸ˆ SJW à¸—à¸¸à¸ 10 à¸§à¸´ ]===
local latestSJW=nil
task.spawn(function()
	while true do
		local sjwArea = workspace.Main.Characters:FindFirstChild("Rogue Town")
		local sjwFolder = sjwArea and sjwArea:FindFirstChild("Boss")
		local sjw = sjwFolder and sjwFolder:FindFirstChild("Sung Jin Woo")
		local char,hrp = waitForCharacter()
		if sjw and sjw:FindFirstChild("Humanoid") and sjw.Humanoid.Health>0 then
			latestSJW = sjw
		else
			latestSJW=nil
			hrp.CFrame = questPositionSlayer
		end
		task.wait(10)
	end
end)

--===[ AutoFarm Mihawk + SJW ]===
task.spawn(function()
	while true do
		if getgenv().AutoFarmMihawk and getgenv().gx then
			pcall(function()
				local char,hrp = waitForCharacter()
				local mihawkArea = workspace.Main.Characters:FindFirstChild("Glacier Isle")
				local mihawk = mihawkArea and mihawkArea:FindFirstChild("Mihawk") and mihawkArea.Mihawk:FindFirstChild("Mihawk")
				local sjwBoss = latestSJW
				if sjwBoss and sjwBoss:FindFirstChild("Humanoid") and sjwBoss.Humanoid.Health>0 then
					AttackBoss(sjwBoss)
				elseif mihawk and mihawk:FindFirstChild("Humanoid") and mihawk.Humanoid.Health>0 then
					AttackBoss(mihawk)
				else
					hrp.CFrame = deathPositionMihawk
				end
			end)
		end
		task.wait(0.4)
	end
end)

--===[ AutoFarm Slayer's Trainee ]===
task.spawn(function()
	while true do
		if getgenv().AutoSlayerTrainee and getgenv().gx then
			pcall(function()
				local char,hrp = waitForCharacter()
				local slayerArea = workspace.Main.Characters["Forge Isle"]:FindFirstChild("Slayer's Trainee")
				if slayerArea then
					for _,slayer in pairs(slayerArea:GetChildren()) do
						if slayer.Name=="Slayer's Trainee" and slayer:FindFirstChild("Humanoid") and slayer.Humanoid.Health>0 then
							AttackBoss(slayer)
						end
					end
				end
			end)
		end
		task.wait(0.4)
	end
end)
